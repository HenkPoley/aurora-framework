<div class="popup" style="display: none;">
	<div class="mask" data-bind="click: cancelPopup"></div>
	<div class="popup_panel">
		<span class="close" data-bind="click: cancelPopup"></span>
		<span class="title" data-i18n="MAIL/HEADING_ADD_NEW_FETCHER" data-bind="i18n: 'text'"></span>

		<div class="fields">
			<div class="fieldset">
				<div class="row incoming">
					<!-- ko template: {name: 'Mail_Settings_ServerPropertiesView', data: oIncoming} --><!-- /ko -->
				</div>

				<div class="row login">
					<span class="label required" data-i18n="MAIL/LABEL_LOGIN" data-bind="i18n: 'text'"></span>
					<input class="value input" spellcheck="false" type="text" maxlength="255" data-bind="value: incomingMailLogin, onEnter: save, hasFocus: loginIsSelected"/>
				</div>
				<div class="row password">
					<span class="label required" data-i18n="CORE/LABEL_PASSWORD" data-bind="i18n: 'text'"></span>
					<input class="value input" spellcheck="false" type="password" maxlength="255" data-bind="value: incomingMailPassword, onEnter: save, hasFocus: passwordIsSelected"/>
				</div>

				<div class="row hint">
					<span class="" data-i18n="MAIL/HINT_FETCHER_STORE" data-bind="i18n: 'text'"></span>
				</div>

				<div class="row folder">
					<span class="label required" data-i18n="MAIL/LABEL_TARGET_FOLDER" data-bind="i18n: 'text'"></span>
					<span class="" data-i18n="MAIL/INFO_WAITING_FOLDER_LIST" data-bind="i18n: 'text', visible: options().length === 0"></span>
					<select class="value input" data-bind="visible: options().length > 1,
						value: folder, options: options, optionsText: 'translatedDisplayName', optionsValue: 'fullName', 
						optionsAfterRender: defaultOptionsAfterRender, valueUpdate: ['blur', 'afterkeydown']
					"></select>

					<span class="link" data-i18n="MAIL/BUTTON_ADD_NEW_FOLDER" data-bind="i18n: 'text', command: addNewFolderCommand, visible: options().length > 1"></span>
				</div>

				<div class="row">
					<div>
						<label class="custom_checkbox" data-bind="css: {'checked': leaveMessagesOnServer}">
							<span class="icon"></span>
							<input type="checkbox" id="popup_leave_essages_on_server" data-bind="checked: leaveMessagesOnServer" />
						</label>
						<label for="popup_leave_essages_on_server" data-i18n="MAIL/LABEL_LAVE_MESSAGES_ON_SERVER" data-bind="i18n: 'text'"></label>
					</div>
				</div>
			</div>

			<div class="buttons">
				<span class="button save" data-i18n="CORE/BUTTON_SAVE" data-bind="i18n: 'text', click: save, visible: !loading()"></span>
				<span class="button save" data-i18n="CORE/BUTTON_SAVING" data-bind="i18n: 'text', visible: loading()"></span>
				<span class="button cancel secondary" data-i18n="CORE/BUTTON_CANCEL" data-bind="i18n: 'text', click: cancelPopup"></span>
			</div>
		</div>
	</div>
	<span class="helper"></span>
</div>
